

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>User Guide &mdash; algoraphics  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API" href="API.html" />
    <link rel="prev" title="Documentation for algoraphics" href="index.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> algoraphics
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">User Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#components">Components</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#canvas">Canvas</a></li>
<li class="toctree-l3"><a class="reference internal" href="#objects">Objects</a></li>
<li class="toctree-l3"><a class="reference internal" href="#styles">Styles</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parameters">Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#colors">Colors</a></li>
<li class="toctree-l3"><a class="reference internal" href="#output">Output</a></li>
<li class="toctree-l3"><a class="reference internal" href="#images">Images</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#patterns">Patterns</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#filaments">Filaments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mazes">Mazes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="API.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">algoraphics</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>User Guide</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/guide.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="user-guide">
<h1>User Guide<a class="headerlink" href="#user-guide" title="Permalink to this headline">¶</a></h1>
<p>Note: The images in this guide can be generated by prefixing the
corresponding code example with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">algoraphics</span> <span class="k">as</span> <span class="nn">ag</span>
<span class="n">w</span> <span class="o">=</span> <span class="mi">400</span>
<span class="n">h</span> <span class="o">=</span> <span class="mi">400</span>
</pre></div>
</div>
<p>and appending this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ag</span><span class="o">.</span><span class="n">write_SVG</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="s1">&#39;test.svg&#39;</span><span class="p">)</span>
<span class="n">ag</span><span class="o">.</span><span class="n">to_PNG</span><span class="p">(</span><span class="s1">&#39;test.svg&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="components">
<h2>Components<a class="headerlink" href="#components" title="Permalink to this headline">¶</a></h2>
<div class="section" id="canvas">
<h3>Canvas<a class="headerlink" href="#canvas" title="Permalink to this headline">¶</a></h3>
<p>The algoraphics library uses the Cartesian coordinate system.  This
means that while SVG and other computer graphics systems often define
the top of the canvas as y=0 with y increasing downward, here y=0 is
the bottom of the canvas with y increasing upward.  It also means that
while the coordinate units are pixels, negative and non-integer values
are allowed.</p>
</div>
<div class="section" id="objects">
<h3>Objects<a class="headerlink" href="#objects" title="Permalink to this headline">¶</a></h3>
<p>Visible objects are represented as dictionaries.  Their <cite>type</cite>
attribute defines what is drawn and which other attributes will be
accessed (though additional attributes can be supplied and will be
ignored).</p>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="89%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Object</th>
<th class="head">Attributes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>circle</td>
<td>c (point), r (float)</td>
</tr>
<tr class="row-odd"><td>group</td>
<td>members (list), clip (list or dict)</td>
</tr>
<tr class="row-even"><td>image</td>
<td>image (PIL Image), w (float), h (float), format (str)</td>
</tr>
<tr class="row-odd"><td>line</td>
<td>p1 (point), p2 (point)</td>
</tr>
<tr class="row-even"><td>path</td>
<td>d (list of command dicts)</td>
</tr>
<tr class="row-odd"><td>polygon</td>
<td>points (list)</td>
</tr>
<tr class="row-even"><td>polyline</td>
<td>points (list)</td>
</tr>
<tr class="row-odd"><td>spline</td>
<td>points (list), curvature (float), circular (bool)</td>
</tr>
<tr class="row-even"><td>text</td>
<td>text (str), x (float), y (float), align (str), font_size (float)</td>
</tr>
</tbody>
</table>
<p>Convenience functions like <cite>circle</cite> exist that simply return a
dictionary.  Functions also exist to define shapes in alternative ways
for convenience.  For example, the <cite>rectangle</cite> function accepts a
starting point, width, and height, or just a set of x and y bounds,
and returns a polygon defined by its four corners.</p>
</div>
<div class="section" id="styles">
<h3>Styles<a class="headerlink" href="#styles" title="Permalink to this headline">¶</a></h3>
<p>SVG attributes are used to style shapes and are stored as a dictionary
in each shape’s <cite>style</cite> attribute.</p>
</div>
<div class="section" id="parameters">
<h3>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h3>
<p>Many algoraphics functions accept abstract parameters that specify a
distributiopn to randomly sample from.  This makes it easy to
incorporate subtle or not-so-subtle randomness into the graphics.  It
also allows basic functions to be used in multiple ways to create
different patterns.</p>
<p>For example, a simple command to draw 100 circles can produce this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">200</span>
<span class="n">center</span> <span class="o">=</span> <span class="p">(</span><span class="n">ag</span><span class="o">.</span><span class="n">Uniform</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">w</span> <span class="o">-</span> <span class="mi">10</span><span class="p">),</span> <span class="n">ag</span><span class="o">.</span><span class="n">Uniform</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">h</span> <span class="o">-</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">radius</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">Uniform</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">color</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="n">hue</span><span class="o">=</span><span class="n">ag</span><span class="o">.</span><span class="n">Uniform</span><span class="p">(</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">),</span> <span class="n">sat</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">li</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="n">ag</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">radius</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)]</span>
<span class="n">ag</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s1">&#39;fill&#39;</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/param1.png" src="_images/param1.png" />
<p>or this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">200</span>
<span class="n">center</span> <span class="o">=</span> <span class="p">(</span><span class="n">ag</span><span class="o">.</span><span class="n">Param</span><span class="p">([</span><span class="mi">100</span><span class="p">,</span> <span class="mi">300</span><span class="p">]),</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">radius</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">Param</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">delta</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">color</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="n">hue</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">sat</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">li</span><span class="o">=</span><span class="n">ag</span><span class="o">.</span><span class="n">Uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="n">ag</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">radius</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)]</span>
<span class="n">ag</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s1">&#39;fill&#39;</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/param2.png" src="_images/param2.png" />
<p>or this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">200</span>
<span class="n">center</span> <span class="o">=</span> <span class="p">(</span><span class="n">ag</span><span class="o">.</span><span class="n">Param</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="mi">4</span><span class="p">),</span> <span class="n">ag</span><span class="o">.</span><span class="n">Uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">h</span><span class="p">))</span>
<span class="n">radius</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">Uniform</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
<span class="n">color</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="n">hue</span><span class="o">=</span><span class="n">ag</span><span class="o">.</span><span class="n">Param</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="mf">0.005</span><span class="p">),</span> <span class="n">sat</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">li</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="n">ag</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">radius</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)]</span>
<span class="n">ag</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s1">&#39;fill&#39;</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/param3.png" src="_images/param3.png" />
<p>Parameter object classes for random distributions like Uniform,
Normal, and Exponential are memoryless.  A parameter can instead have
a delta attribute, whose value is added to the last value to get the
next one each time the parameter value is accessed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">p2y</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">Param</span><span class="p">(</span><span class="mi">170</span><span class="p">,</span> <span class="n">delta</span><span class="o">=-</span><span class="mf">0.25</span><span class="p">)</span>
<span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">ag</span><span class="o">.</span><span class="n">line</span><span class="p">((</span><span class="n">i</span> <span class="o">*</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">170</span><span class="p">),</span> <span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="mi">4</span><span class="p">,</span> <span class="n">p2y</span><span class="p">))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)])</span>

<span class="n">p2y</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">Param</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="nb">min</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">130</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="n">ag</span><span class="o">.</span><span class="n">Uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">ag</span><span class="o">.</span><span class="n">line</span><span class="p">((</span><span class="n">i</span> <span class="o">*</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="mi">4</span><span class="p">,</span> <span class="n">p2y</span><span class="p">))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)])</span>

<span class="n">p2y</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">Param</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="nb">min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span>
               <span class="n">delta</span><span class="o">=</span><span class="n">ag</span><span class="o">.</span><span class="n">Param</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">min</span><span class="o">=-</span><span class="mi">2</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="n">ag</span><span class="o">.</span><span class="n">Uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)))</span>
<span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">ag</span><span class="o">.</span><span class="n">line</span><span class="p">((</span><span class="n">i</span> <span class="o">*</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span> <span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="mi">4</span><span class="p">,</span> <span class="n">p2y</span><span class="p">))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)])</span>

<span class="n">ag</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s1">&#39;stroke&#39;</span><span class="p">,</span> <span class="s1">&#39;black&#39;</span><span class="p">)</span>
<span class="n">ag</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s1">&#39;stroke-width&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/param4.png" src="_images/param4.png" />
<p>The delta attribute can itself be a parameter, which can allow for
object attributes to be generated as a random walk (middle row of
lines above).</p>
<p>If the delta parameter has its own delta attribute, second-order
changes are produced (bottom row of lines above).</p>
<p>Parameters can have a ratio attribute instead of delta, which works
the same way but multiplies, rather than adds, <code class="docutils literal notranslate"><span class="pre">ratio</span></code> by the last
value.</p>
<p>A parameter can also be defined with a list of values, which will be
uniformly randomly sampled:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">200</span>
<span class="n">center</span> <span class="o">=</span> <span class="p">(</span><span class="n">ag</span><span class="o">.</span><span class="n">Uniform</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">w</span> <span class="o">-</span> <span class="mi">10</span><span class="p">),</span> <span class="n">ag</span><span class="o">.</span><span class="n">Uniform</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">h</span> <span class="o">-</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">radius</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">Uniform</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">color</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">Param</span><span class="p">([</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">])</span>
<span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="n">ag</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">radius</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)]</span>
<span class="n">ag</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s1">&#39;fill&#39;</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/param5.png" src="_images/param5.png" />
<p>Finally, a parameter can be defined with an arbitrary function, which
will be called with no arguments to generate values.</p>
<p>Note that once an object is generated, its parameters are generally
static.</p>
</div>
<div class="section" id="colors">
<h3>Colors<a class="headerlink" href="#colors" title="Permalink to this headline">¶</a></h3>
<p>Colors are represented as objects of the Color class.  They are
generally defined in the HSL (hue, saturation, lightness) color space.
If these are supplied as Param objects, the objects represents a
distribution from which colors will be sampled.</p>
<p>[example: objects colored using parameterized Color]</p>
<p>Color values can be defined and retrieved using other color
specifications.</p>
<p>Shape color attributes like <cite>fill</cite> and <cite>stroke</cite> can be set with a
string, which will be used as-is in the SVG file.  This will work for
hex codes, named colors, etc.</p>
</div>
<div class="section" id="output">
<h3>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h3>
<p>Objects are written to an SVG file using the <cite>write_SVG</cite> function.
Shapes are represented with types that correspond to SVG objects or
specific forms of them.</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">algoraphics</th>
<th class="head">SVG</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>circle</td>
<td>circle</td>
</tr>
<tr class="row-odd"><td>group</td>
<td>g</td>
</tr>
<tr class="row-even"><td>image</td>
<td>image</td>
</tr>
<tr class="row-odd"><td>line</td>
<td>line</td>
</tr>
<tr class="row-even"><td>path</td>
<td>path</td>
</tr>
<tr class="row-odd"><td>polygon</td>
<td>polygon</td>
</tr>
<tr class="row-even"><td>polyline</td>
<td>polyline</td>
</tr>
<tr class="row-odd"><td>spline</td>
<td>path made of bezier curves</td>
</tr>
<tr class="row-even"><td>text</td>
<td>text</td>
</tr>
</tbody>
</table>
<p>(how different things are represented in SVG)</p>
<p>By default, the SVG code is optimized using <cite>svgo</cite>, but this can be
skipped for more readable SVG code, e.g. for debugging.</p>
<p>SVG files can then be converted to PNG files using the <cite>to_PNG</cite>
function.</p>
</div>
<div class="section" id="images">
<h3>Images<a class="headerlink" href="#images" title="Permalink to this headline">¶</a></h3>
<p>Images can be used as templates for use with patterns or textures.
The simplest strategy is to sample colors from the image to color
objects at corresponding locations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">image</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">open_image</span><span class="p">(</span><span class="s2">&quot;test_images.jpg&quot;</span><span class="p">)</span>
<span class="n">ag</span><span class="o">.</span><span class="n">resize_image</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="mi">800</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">size</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">tile_canvas</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">ag</span><span class="o">.</span><span class="n">voronoi_regions</span><span class="p">,</span> <span class="n">tile_size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">ag</span><span class="o">.</span><span class="n">fill_shapes_from_image</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">image</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/images1.png" src="_images/images1.png" />
<p>Images can also be segmented into regions that correspond to detected
color boundaries with some smoothing, but are constrained to not be
too large:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">image</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">open_image</span><span class="p">(</span><span class="s2">&quot;test_images.jpg&quot;</span><span class="p">)</span>
<span class="n">ag</span><span class="o">.</span><span class="n">resize_image</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="mi">800</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">size</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">image_regions</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">smoothness</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="k">for</span> <span class="n">outline</span> <span class="ow">in</span> <span class="n">x</span><span class="p">:</span>
    <span class="n">color</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">region_color</span><span class="p">(</span><span class="n">outline</span><span class="p">,</span> <span class="n">image</span><span class="p">)</span>
    <span class="n">ag</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="n">outline</span><span class="p">,</span> <span class="s1">&#39;fill&#39;</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span>
<span class="n">ag</span><span class="o">.</span><span class="n">add_paper_texture</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/images2.png" src="_images/images2.png" />
<p>Fill functions can be applied and passed representative colors.</p>
<p>[example: regions filled with pattern.]</p>
</div>
</div>
<div class="section" id="patterns">
<h2>Patterns<a class="headerlink" href="#patterns" title="Permalink to this headline">¶</a></h2>
<div class="section" id="filaments">
<h3>Filaments<a class="headerlink" href="#filaments" title="Permalink to this headline">¶</a></h3>
<p>Filaments made of quadrilateral segments can be generated:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dirs</span> <span class="o">=</span> <span class="p">[</span><span class="n">ag</span><span class="o">.</span><span class="n">Param</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="n">ag</span><span class="o">.</span><span class="n">Uniform</span><span class="p">(</span><span class="nb">min</span><span class="o">=-</span><span class="mi">20</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">20</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">360</span><span class="p">)[::</span><span class="mi">10</span><span class="p">]]</span>
<span class="n">width</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">Uniform</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">length</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">Uniform</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="n">ag</span><span class="o">.</span><span class="n">filament</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="p">(</span><span class="n">w</span> <span class="o">/</span> <span class="mf">2.</span><span class="p">,</span> <span class="n">h</span> <span class="o">/</span> <span class="mf">2.</span><span class="p">),</span> <span class="n">direction</span><span class="o">=</span><span class="n">d</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span>
                 <span class="n">seg_length</span><span class="o">=</span><span class="n">length</span><span class="p">,</span> <span class="n">n_segments</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">dirs</span><span class="p">]</span>
<span class="n">ag</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s1">&#39;fill&#39;</span><span class="p">,</span> <span class="n">ag</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="n">hsl</span><span class="o">=</span><span class="p">(</span><span class="n">ag</span><span class="o">.</span><span class="n">Uniform</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mf">0.15</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)))</span>
</pre></div>
</div>
<img alt="_images/filaments1.png" src="_images/filaments1.png" />
<p>The direction parameter’s delta or ratio attribute allows the filament
to move in different directions.  Nested deltas produce smooth
curves:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">direc</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">Param</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="n">ag</span><span class="o">.</span><span class="n">Param</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">min</span><span class="o">=-</span><span class="mi">20</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
                                    <span class="n">delta</span><span class="o">=</span><span class="n">ag</span><span class="o">.</span><span class="n">Uniform</span><span class="p">(</span><span class="nb">min</span><span class="o">=-</span><span class="mi">3</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">3</span><span class="p">)))</span>
<span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="n">ag</span><span class="o">.</span><span class="n">filament</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">),</span> <span class="n">direction</span><span class="o">=</span><span class="n">direc</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
                 <span class="n">seg_length</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">n_segments</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span> <span class="k">for</span> <span class="n">z</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">w</span><span class="p">)[::</span><span class="mi">30</span><span class="p">]]</span>
<span class="n">ag</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s1">&#39;fill&#39;</span><span class="p">,</span>
             <span class="n">ag</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="n">hsl</span><span class="o">=</span><span class="p">(</span><span class="mf">0.33</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">ag</span><span class="o">.</span><span class="n">Uniform</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="mf">0.15</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mf">0.35</span><span class="p">))))</span>
</pre></div>
</div>
<img alt="_images/filaments2.png" src="_images/filaments2.png" />
<p>A width parameter with decreasing delta or ratio produces a tentacle:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dirs</span> <span class="o">=</span> <span class="p">[</span><span class="n">ag</span><span class="o">.</span><span class="n">Param</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="n">ag</span><span class="o">.</span><span class="n">Uniform</span><span class="p">(</span><span class="nb">min</span><span class="o">=-</span><span class="mi">30</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">30</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">360</span><span class="p">)[::</span><span class="mi">10</span><span class="p">]]</span>
<span class="n">n_seg</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">width</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">Param</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">delta</span><span class="o">=-</span><span class="mi">10</span><span class="o">/</span><span class="n">n_seg</span><span class="p">)</span>
<span class="n">length</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">Param</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">delta</span><span class="o">=-</span><span class="mi">5</span><span class="o">/</span><span class="n">n_seg</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="n">ag</span><span class="o">.</span><span class="n">filament</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="p">(</span><span class="n">w</span> <span class="o">/</span> <span class="mf">2.</span><span class="p">,</span> <span class="n">h</span> <span class="o">/</span> <span class="mf">2.</span><span class="p">),</span> <span class="n">direction</span><span class="o">=</span><span class="n">d</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span>
                 <span class="n">seg_length</span><span class="o">=</span><span class="n">length</span><span class="p">,</span> <span class="n">n_segments</span><span class="o">=</span><span class="n">n_seg</span><span class="p">)</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">dirs</span><span class="p">]</span>
<span class="n">ag</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s1">&#39;fill&#39;</span><span class="p">,</span> <span class="n">ag</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="n">hsl</span><span class="o">=</span><span class="p">(</span><span class="n">ag</span><span class="o">.</span><span class="n">Uniform</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mf">0.75</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)))</span>
</pre></div>
</div>
<img alt="_images/filaments3.png" src="_images/filaments3.png" />
</div>
<div class="section" id="mazes">
<h3>Mazes<a class="headerlink" href="#mazes" title="Permalink to this headline">¶</a></h3>
<p>These patterns resemble mazes, but are actually random spanning trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">outline</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">rectangle</span><span class="p">(</span><span class="n">bounds</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">h</span><span class="p">))</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">fill_maze</span><span class="p">(</span><span class="n">outline</span><span class="p">,</span> <span class="n">spacing</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
                 <span class="n">style</span><span class="o">=</span><span class="n">ag</span><span class="o">.</span><span class="n">Maze_Style_Straight</span><span class="p">(</span><span class="n">rel_thickness</span><span class="o">=</span><span class="mf">0.2</span><span class="p">))</span>
<span class="n">ag</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;members&#39;</span><span class="p">],</span> <span class="s1">&#39;fill&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/mazes1.png" src="_images/mazes1.png" />
<p>The maze style is defined by an instance of a subclass of
<cite>Maze_Style</cite>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">outline</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">rectangle</span><span class="p">(</span><span class="n">bounds</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">h</span><span class="p">))</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">fill_maze</span><span class="p">(</span><span class="n">outline</span><span class="p">,</span> <span class="n">spacing</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
                 <span class="n">style</span><span class="o">=</span><span class="n">ag</span><span class="o">.</span><span class="n">Maze_Style_Jagged</span><span class="p">(</span><span class="n">min_w</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">max_w</span><span class="o">=</span><span class="mf">0.8</span><span class="p">))</span>
<span class="n">ag</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;members&#39;</span><span class="p">],</span> <span class="s1">&#39;fill&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/mazes2.png" src="_images/mazes2.png" />
<p>Each style defines the appearance of five maze components that each
occupy one grid cell: tip, turn, straight, T, and cross.  Each grid
cell contains a rotation and/or reflection of one of these components:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">outline</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">rectangle</span><span class="p">(</span><span class="n">bounds</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">h</span><span class="p">))</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">fill_maze</span><span class="p">(</span><span class="n">outline</span><span class="p">,</span> <span class="n">spacing</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
                 <span class="n">style</span><span class="o">=</span><span class="n">ag</span><span class="o">.</span><span class="n">Maze_Style_Pipes</span><span class="p">(</span><span class="n">rel_thickness</span><span class="o">=</span><span class="mf">0.6</span><span class="p">))</span>
<span class="n">ag</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;members&#39;</span><span class="p">],</span> <span class="s1">&#39;fill&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/mazes3.png" src="_images/mazes3.png" />
<p>The grid can be rotated:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">outline</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">rectangle</span><span class="p">(</span><span class="n">bounds</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">h</span><span class="p">))</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">fill_maze</span><span class="p">(</span><span class="n">outline</span><span class="p">,</span> <span class="n">spacing</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
                 <span class="n">style</span><span class="o">=</span><span class="n">ag</span><span class="o">.</span><span class="n">Maze_Style_Round</span><span class="p">(</span><span class="n">rel_thickness</span><span class="o">=</span><span class="mf">0.3</span><span class="p">),</span>
                 <span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
<span class="n">ag</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;members&#39;</span><span class="p">],</span> <span class="s1">&#39;fill&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/mazes4.png" src="_images/mazes4.png" />
<p>Custom styles can be used by creating a new subclass of <cite>Maze_Style</cite>.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="API.html" class="btn btn-neutral float-right" title="API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Documentation for algoraphics" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Dan Munro.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>